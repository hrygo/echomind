# 📄 产品需求文档 - EchoMind

| 项目名称 | EchoMind |
| :--- | :--- |
| **版本状态** | **v0.1.0 (MVP/Beta)** |
| **文档状态** | **正式发布** |
| **产品负责人** | Product Team |
| **核心 Slogan** | **Your personal Chief of Staff for email. Turn noise into decisions.** <br> (你的专属邮件幕僚长。化噪音为决策。) |

---

## 1. 战略定位与背景

### 1.1 产品愿景
EchoMind 是一款 **SaaS 级企业智能邮件决策系统**。
它不是传统的邮件客户端（Outlook/Foxmail 的替代品），而是在传统邮箱之上叠加的一层 **AI 认知层**。它负责阅读、理解、分类、摘要邮件，并将非结构化的沟通转化为结构化的 **“情报”** 和 **“任务”**。

### 1.3 目标用户与价值主张

系统提供两种视图模式，服务于企业内两类核心人群：

| 用户分层 | **高管/决策者 (Executive)** | **中基层管理者 (Manager)** | **销售/投资人 (Dealmaker)** |
| :--- | :--- | :--- | :--- |
| **典型画像** | CEO、VP、合伙人 | 部门经理、项目主管 | 销售总监、BD、VC 投资人 |
| **核心痛点** | 信息过载，怕漏掉风险，需要全局视野。 | 任务繁杂，跟进困难，需要高效执行。 | 害怕错过关键信号，难以维护海量弱关系。 |
| **核心价值** | **“上帝视角”**：掌控全局，辅助决策。 | **“任务闭环”**：零积压，自动提取待办。 | **“机会雷达”**：洞察意图，激活沉睡关系。 |

---

## 2. 核心功能范围 (MVP)

### 2.1 数据采集层 (Cloud Native)
*   **协议支持**：
    *   **通用 IMAP/SMTP**：支持 99% 的企业邮箱（腾讯企业邮、阿里邮箱、网易、自建 Exchange）。
    *   **OAuth 2.0**：原生支持 Gmail、Outlook/Office 365（需申请 API 权限）。
*   **同步策略**：
    *   **元数据优先**：优先拉取信头（Sender, Subject, Date）构建索引。
    *   **按需拉取**：正文内容在分析时实时拉取或按策略预取。
    *   **历史回溯**：默认同步最近 30 天邮件，VIP 可配置全量。

### 2.2 AI 认知引擎 (The Brain)
*   **智能摘要 (Smart Briefing)**：
    *   单封邮件摘要：将长篇大论压缩为 3 行要点。
    *   **Thread 摘要**：将 20 封往来邮件（Re/Fwd）概括为“事件时间轴”和“当前状态”。
*   **实体与意图识别**：
    *   提取关键实体：金额、日期、地点、人名、公司。
    *   识别核心意图：`请求审批`、`安排会议`、`催促进度`、`投诉/不满`。
*   **情绪风控雷达**：
    *   分析发件人语气（愤怒、焦虑、急迫），对高风险邮件进行红色预警。
*   **多模型支持 (Model Agnostic)**：
    *   支持通过配置切换底层大模型（如 DeepSeek, OpenAI, Anthropic, Local LLMs）。
    *   根据任务复杂度自动路由（例如：简单分类用小模型，深度摘要用大模型）。
*   **RAG 与多模态 (Advanced AI)**：
    *   **语义记忆**：基于向量数据库的历史邮件检索。
    *   **多模态解析**：识别附件文档（PDF/Word）及图片中的关键信息。

### 2.3 用户界面：角色化工作台 (Role-Based Workspaces)

#### A. 高管视图 (Executive View) - "晨报模式"
*   **每日决策日报 (Daily Digest)**：
    *   AI 每天生成一份动态报告，包含：昨日关键进展、今日待决策事项、风险预警。
*   **人脉价值看板**：
    *   基于邮件交互频率和深度，展示“核心关系网络”。
    *   流失预警：“关键客户 John 已经 14 天没有回复邮件了”。

#### B. 管理者视图 (Manager View) - "控制台模式"
*   **任务提取 (Action Items)**：
    *   自动将邮件转化为 To-Do List。
    *   例：“请在周五前提交月报” -> 生成任务 [提交月报] [截止:周五]。
*   **智能跟进 (Smart Follow-up)**：
    *   “我发出的邮件谁还没回？”自动列出等待回复列表。
*   **辅助写作 (AI Compose)**：
    *   基于上下文生成回复草稿（同意、拒绝、追问）。

#### C. 销售/投资视图 (Dealmaker View) - "雷达模式"
*   **意图雷达 (Intent Radar)**：
    *   自动识别高价值意图：`购买意向`、`寻求合作`、`约会议`。
    *   不仅仅关注任务，更关注机会信号。
*   **关系热度图 (Relationship Heatmap)**：
    *   可视化展示“谁最近互动最频繁”、“谁正在变冷”。
    *   沉睡唤醒建议：“关键客户 John 已经 30 天无互动，建议发送行业报告”。
*   **时间线旅程 (Timeline)**：
    *   以联系人为中心，聚合所有相关邮件、会议和附件，形成完整的交互历史。

#### D. 微信公众号 (WeChat Connect) - "随身第二大脑"
**定位**：EchoMind 的移动端对话式操作系统 (Conversational OS)，不仅仅是通知，更是核心交互界面。遵循 **"Lazy Intelligence" (懒人智能)** 哲学：零摩擦，高上下文。

*   **🎙️ 语音指挥官 (Voice Commander)**：
    *   **语音输入**：支持中英文自然语音输入 ("帮我回给 Alice 说下午三点可以")。
    *   **智能转录**：集成 Whisper 模型，精准识别专业术语。
    *   **多意图执行**：自动识别意图（查询、回复、摘要、朗读）并执行，返回语音或文字结果。
*   **🗓️ 日程守门人 (Calendar Gatekeeper)**：
    *   **冲突检测**：用户转发会议询问 ("下周二下午有空吗？")，AI 自动查日历检测冲突。
    *   **智能建议**：若有冲突，AI 自动寻找空闲时间槽并生成建议回复 ("周二不行，周三上午 10 点可以吗？")，一键复制发送。
*   **🧠 灵感捕手 (Thought Catcher)**：
    *   **极速录入**：随时语音记录闪念或待办 ("提醒我下周一和设计过一下红色按钮")。
    *   **结构化同步**：AI 自动提取 `Action`, `Deadline`, `Context` 并同步至 Web 端 Dashboard。
*   **⚡ 一键决策 (One-Touch Decision)**：
    *   **审批/决策卡片**：遇到需决策邮件（如预算审批），推送包含 `[ 🟢 批准 ]` `[ 🔴 驳回 ]` 按钮的卡片。
    *   **懒人操作**：用户无需打字，点击按钮即可完成回复或触发后续工作流。
*   **🔍 全知搜索 (RAG Search)**：
    *   **自然语言问答**：支持模糊查询 ("上个月张总关于预算说了什么？")，返回带引用的精准答案。

---

## 3. 非功能需求

### 3.1 安全与隐私 (最高优先级)
*   **SaaS 安全**：
    *   数据传输全链路 TLS 1.3 加密。
    *   数据库字段级加密（AES-256），密钥与数据分离存储。
*   **隐私模式 (Incognito Mode)**：
    *   提供“阅后即焚”选项：邮件正文仅在内存中进行 AI 分析，分析完成后立即释放，服务器仅存储摘要和结构化标签，不持久化存储原文。

### 3.2 性能要求
*   **秒级同步**：新邮件到达后 30 秒内完成 AI 分析并推送。
*   **海量吞吐**：支持单账户 10万+ 邮件索引。

---

## 4. 商业模式 (规划中 - Deferred)
*   **Freemium (Future)**：
    *   免费版：连接 1 个邮箱，基础摘要，保留 30 天历史。
    *   Pro 版：无限邮箱，深度 AI 分析，无限历史，优先支持。
    *   Team 版：企业域管理，团队协作功能。

---

## 5. 风险评估
1.  **邮箱服务商限制**：部分邮箱（如 Gmail）对 API 调用频率有限制，需做好流控和重试机制。
2.  **用户信任**：SaaS 模式下，用户需输入邮箱密码/授权，需通过 SOC2 等合规认证建立信任。
3.  **AI 幻觉**：摘要可能遗漏关键细节，界面需提供“一键查看原文”的快速入口。